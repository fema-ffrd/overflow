{
    "cli": [
        {
            "name": "Pipeline",
            "path": "overflow",
            "cmd": [
                "pipeline"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "This process takes a DEM as input and returns delineated streams and optionally basins.",
            "category": "Hydrology",
            "keywords": [
                "dem",
                "stream",
                "delineation",
                "watershed",
                "hydrology",
                "drainage",
                "basin",
                "terrain",
                "hydrologic",
                "catchment",
                "flow",
                "direction",
                "accumulation",
                "breach",
                "depression",
                "filling",
                "raster",
                "geospatial",
                "processing",
                "d8",
                "pour",
                "points",
                "surface"
            ],
            "args": [
                {
                    "displayName": "DEM File",
                    "name": "dem_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the DEM"
                },
                {
                    "displayName": "Output Directory",
                    "name": "output_dir",
                    "type": "directory",
                    "description": "path to the output directory"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                },
                {
                    "displayName": "Search Radius (feet)",
                    "name": "search_radius_ft",
                    "type": "integer",
                    "defaultValue": 200,
                    "description": "max search radius in feet to look for solution paths during breaching"
                },
                {
                    "displayName": "Max Cost",
                    "name": "max_cost",
                    "type": "float",
                    "defaultValue": 1000000000,
                    "description": "maximum cost of breach paths (total sum of elevation removed from each cell in path)"
                },
                {
                    "displayName": "Drainage Area (square miles)",
                    "name": "da_sqmi",
                    "type": "float",
                    "defaultValue": 1,
                    "description": "minimum drainage area in square miles for stream extraction"
                },
                {
                    "displayName": "Generate Basins?",
                    "name": "basins",
                    "type": "bool",
                    "description": "flag to enable watershed delineation"
                },
                {
                    "displayName": "Fill Holes?",
                    "name": "fill_holes",
                    "type": "bool",
                    "description": "If set, fills no-data holes in the DEM"
                }
            ]
        },
        {
            "name": "Breach",
            "path": "overflow",
            "cmd": [
                "breach"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Breach paths of least cost for pits in a DEM. Only pits that can be solved within the search radius are solved.",
            "category": "Hydrology",
            "keywords": [
                "dem",
                "breach",
                "pit",
                "depression",
                "least-cost",
                "terrain",
                "preprocessing",
                "hydrology",
                "raster"
            ],
            "args": [
                {
                    "displayName": "Input File",
                    "name": "input_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the DEM"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file (must be GeoTiff)"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                },
                {
                    "displayName": "Search Radius",
                    "name": "search_radius",
                    "type": "integer",
                    "description": "search radius in cells",
                    "defaultValue": 200
                },
                {
                    "displayName": "Max Cost",
                    "name": "max_cost",
                    "type": "float",
                    "description": "maximum cost of breach paths (total sum of elevation removed from each cell in path)",
                    "defaultValue": 1000000000
                }
            ]
        },
        {
            "name": "Fill",
            "path": "overflow",
            "cmd": [
                "fill"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Fill depressions in a DEM to create a hydrologically corrected surface.",
            "category": "Hydrology",
            "keywords": [
                "dem",
                "fill",
                "depression",
                "pit",
                "terrain",
                "preprocessing",
                "hydrology",
                "raster"
            ],
            "args": [
                {
                    "displayName": "DEM File",
                    "name": "dem_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the DEM"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file (must be GeoTiff)"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                },
                {
                    "displayName": "Working Directory",
                    "name": "working_dir",
                    "type": "directory",
                    "description": "working directory for temporary files"
                },
                {
                    "displayName": "Fill Holes?",
                    "name": "fill_holes",
                    "type": "bool",
                    "description": "If set, fills no-data holes in the DEM"
                }
            ]
        },
        {
            "name": "Flow Direction",
            "path": "overflow",
            "cmd": [
                "flow-direction"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Generate flow direction rasters from a DEM and resolve flat areas. Returns a raster with delineated flow direction using D8 algorithm.",
            "category": "Hydrology",
            "keywords": [
                "flow",
                "direction",
                "d8",
                "dem",
                "hydrology",
                "drainage",
                "raster",
                "terrain",
                "flats"
            ],
            "args": [
                {
                    "displayName": "Input File",
                    "name": "input_file",
                    "type": "file",
                    "description": "path to the DEM file"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                }
            ]
        },
        {
            "name": "Accumulation",
            "path": "overflow",
            "cmd": [
                "accumulation"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Calculate flow accumulation from a flow direction raster. Returns the number of upstream cells flowing into each cell.",
            "category": "Hydrology",
            "keywords": [
                "flow",
                "accumulation",
                "drainage",
                "hydrology",
                "watershed",
                "catchment",
                "raster"
            ],
            "args": [
                {
                    "displayName": "FDR File",
                    "name": "fdr_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow direction (FDR)"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file (must be GeoTiff)"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                }
            ]
        },
        {
            "name": "Basins",
            "path": "overflow",
            "cmd": [
                "basins"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Label watersheds from a flow direction raster and drainage points. Returns a raster with labeled watershed basins.",
            "category": "Hydrology",
            "keywords": [
                "watershed",
                "basin",
                "delineation",
                "drainage",
                "catchment",
                "hydrology",
                "pour-points",
                "raster"
            ],
            "args": [
                {
                    "displayName": "FDR File",
                    "name": "fdr_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow direction (FDR)"
                },
                {
                    "displayName": "FAC File",
                    "name": "fac_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow accumulation (FAC)"
                },
                {
                    "displayName": "Drainage Points File",
                    "name": "dp_file",
                    "type": "file",
                    "description": "path to the drainage points file"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file (must be GeoTiff)"
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                },
                {
                    "displayName": "All Basins?",
                    "name": "all_basins",
                    "type": "bool",
                    "description": "If set, labels all basins. If not set, only labels basins upstream of drainage points"
                },
                {
                    "displayName": "Drainage Points Layer",
                    "name": "dp_layer",
                    "type": "string",
                    "description": "name of the layer in the drainage points file"
                },
                {
                    "displayName": "Snap Radius (feet)",
                    "name": "snap_radius_ft",
                    "type": "float",
                    "description": "radius in feet to snap drainage points to maximum flow accumulation",
                    "defaultValue": 0
                }
            ]
        },
        {
            "name": "Streams",
            "path": "overflow",
            "cmd": [
                "streams"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Extract streams from flow accumulation and flow direction rasters. Returns a vector stream network.",
            "category": "Hydrology",
            "keywords": [
                "stream",
                "extraction",
                "network",
                "hydrology",
                "drainage",
                "flow",
                "accumulation",
                "channel",
                "vector"
            ],
            "args": [
                {
                    "displayName": "FAC File",
                    "name": "fac_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow accumulation (FAC)"
                },
                {
                    "displayName": "FDR File",
                    "name": "fdr_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow direction (FDR)"
                },
                {
                    "displayName": "Output Directory",
                    "name": "output_dir",
                    "type": "directory",
                    "description": "path to the output directory"
                },
                {
                    "displayName": "Cell Count Threshold",
                    "name": "cell_count_threshold",
                    "type": "integer",
                    "description": "minimum number of upstream cells required to define a stream",
                    "defaultValue": 5
                },
                {
                    "displayName": "Chunk Size",
                    "name": "chunk_size",
                    "type": "integer",
                    "description": "chunk size for tiled operations",
                    "defaultValue": 2048
                }
            ]
        },
        {
            "name": "Flow Length",
            "path": "overflow",
            "cmd": [
                "flow-length"
            ],
            "readme": "https://fema-ffrd.github.io/overflow/",
            "description": "Calculate the longest flow path (upstream flow length) from drainage points. Returns a flow length raster and vector lines representing the longest flow path for each drainage point.",
            "category": "Hydrology",
            "keywords": [
                "flow",
                "length",
                "longest",
                "path",
                "upstream",
                "distance",
                "drainage",
                "hydrology",
                "watershed",
                "basin",
                "time",
                "concentration",
                "raster",
                "vector"
            ],
            "args": [
                {
                    "displayName": "FDR File",
                    "name": "fdr_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow direction (FDR)"
                },
                {
                    "displayName": "FAC File",
                    "name": "fac_file",
                    "type": "file",
                    "description": "path to the GDAL supported raster dataset for the flow accumulation (FAC)"
                },
                {
                    "displayName": "Drainage Points File",
                    "name": "dp_file",
                    "type": "file",
                    "description": "path to the drainage points file (OGR compatible format)"
                },
                {
                    "displayName": "Output File",
                    "name": "output_file",
                    "type": "file",
                    "description": "path to the output file (must be GeoTiff)",
                    "direction": "output"
                },
                {
                    "displayName": "Drainage Points Layer",
                    "name": "dp_layer",
                    "type": "string",
                    "description": "name of the layer in the drainage points file"
                },
                {
                    "displayName": "Snap Radius (feet)",
                    "name": "snap_radius_ft",
                    "type": "float",
                    "description": "radius in feet to snap drainage points to maximum flow accumulation",
                    "defaultValue": 0
                }
            ]
        }
    ]
}
